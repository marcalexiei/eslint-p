import { getEnvironmentData } from 'node:worker_threads';

export default
{
    rules:
    {
        boom:
        {
            create()
            {
                const callCountArray = getEnvironmentData('create-call-count-array');
                const originalCallCount = Atomics.add(callCountArray, 0, 1);
                if (originalCallCount === 0)
                    throw Error('Boom!');
                return { };
            },
        },
    }
};
